<p-virtualScroller [value]="taskItems" scrollHeight="250px" [itemSize]="70"
  styleClass="virtual-scroller">

  <ng-template pTemplate="header">
    <div class="p-d-flex p-col-10">
      <div class="p-col-3">
        <h3>List of things to do :</h3>
      </div>
      <div class="p-col-9 p-p-0">
        <p-messages key="homeMsg"></p-messages>
      </div>
    </div>
    <div class="p-col-2">
      <div class="p-text-center">
        <span>Validated</span>
        <p-knob *ngIf="taskItems.length" [(ngModel)]="validatedTaskCount" [size]="50" [readonly]="true" [min]="0" [max]="taskItems.length">
        </p-knob>
      </div>
    </div>
  </ng-template>

  <ng-template pTemplate="item" let-taskItem>
    <div class="p-inline-message p-p-1 p-shadow-1 p-text-left p-d-flex p-jc-between"
      [ngClass]="{'p-inline-message-success': taskItem.status , 'p-inline-message-warn': !taskItem.status}">
      <div class="p-col-7">
        <p-checkbox [(ngModel)]="taskItem.status" [binary]="true" inputId="binary" class="p-mr-2"
          (onChange)="changeTodoState(taskItem)"></p-checkbox>
        <span [class.p-text-crossout]="taskItem.status" class="p-mr-2">
          <a routerLink="/detail/{{taskItem.id}}">{{taskItem.title}}</a>
        </span>
        <p-tag styleClass="mr-2" [icon]="taskItem.status ? 'pi pi-thumbs-up' : 'pi pi-thumbs-down'"
          [value]="taskItem.status ? 'Validated' : 'To do'" [severity]="taskItem.status ? 'success' : 'warning'">
        </p-tag>
      </div>
      <div class="p-col-5">
        <span class="p-mr-2">Added on {{taskItem.created_at | date: 'dd/MM/yyyy'}}</span>
        <span>Updated on {{taskItem.updated_at | date: 'dd/MM/yyyy'}}</span>
      </div>
    </div>

    <!-- <ng-template  pTemplate="emptymessage" let-taskItem>
      test
    </ng-template> -->
  </ng-template>
</p-virtualScroller>
<p-toast key="homeToast"></p-toast>
